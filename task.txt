Смарт контракт Калькулятора (Solidity)

- получает запрос на конвертацию входящего значения с суммой в рублях и копейках в доллары и центы по курсу ЦБ РФ на дату поступления запроса

- логирует в блокчейне событие с результатом конвертации

- для получения актуального курса взаимодействует с контрактом Оракула



Смарт контракт Оракула (Solidity)

- получает запрос на получение актуального курса и логирует соответствующее событие в блокчейне с уникальным идентификатором

- получает запрос на исполнение запроса из предыдущего пункта с уникальным идентификатором и актуальным курсом

- при получении запроса из пункта два, дергает соответствующий метод того контракта калькулятора, который отправил запрос из пункта один

- ???? предусмотреть возможность работы с большим число контрактов-калькуляторов ???



Веб-сервис оракула (C# + .NET Core)

- отслеживает в блокчейне запросы к оракулу на получение курса, вызывает метод оракула, ответственный за выполнение запроса

- курсы запрашивает тут https://www.cbr.ru/development/

- логирует обработанные запросы и позволяет получить их через rest api